= Stratus

image:https://cloud.drone.io/api/badges/72636c/stratus/status.svg[Build Status, link="https://cloud.drone.io/72636c/stratus"]

Simple layer for managing CloudFormation stacks in CI/CD.

== Commands

```shell
# preview change set
stratus preview

# deploy change set
stratus deploy

# delete stack
stratus delete
```

== Config

link:/samples[`/samples`]

A YAML config file looks like:

```yaml
defaults:
  artefactBucket: '{{aws:ssm:parameter:artefact-bucket}}'

stacks:
  - name: stratus-sample-{{env:ENVIRONMENT}}

    capabilities: []
    parameters: []
    terminationProtection: true

    policyFile: ./policy.json
    templateFile: ./template.yaml
```

== Docker

```shell
docker build  \
--tag stratus \
.

# linux, macOS
docker run      \
--env-file .env \
--rm            \
--volume .:/tmp \
--workdir /tmp  \
stratus preview

# windows
docker run           \
--env-file .env      \
--rm                 \
--volume ${pwd}:/tmp \
--workdir /tmp       \
stratus preview
```
